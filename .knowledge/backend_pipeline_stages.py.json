{"is_source_file": true, "format": "Python", "description": "This file contains the implementation of a multi-stage data processing pipeline for analyzing video streams, including stages for reading frames, object detection, pose estimation, behavior analysis, and event detection, primarily designed for animal (bear) monitoring scenarios.", "external_files": ["base"], "external_methods": [], "published": ["VideoConfig", "VideoToFramesStage", "ObjectDetectionStage", "PoseEstimationStage", "BehaviorAnalysisStage", "EventDeterminationStage"], "classes": [{"name": "VideoConfig", "description": "Configuration parameters for video input handling, including source path and whether to use OpenCV for reading frames."}, {"name": "VideoToFramesStage", "description": "Stage responsible for reading video frames from a source using OpenCV, or passing frames through if provided externally."}, {"name": "ObjectDetectionStage", "description": "Stage that performs object detection on frames, currently with a placeholder implementation for detecting bears."}, {"name": "PoseEstimationStage", "description": "Stage that estimates object poses, with a placeholder implementation assigning dummy pose labels."}, {"name": "BehaviorAnalysisStage", "description": "Stage that analyzes sequences of poses over time to determine dominant behaviors per object."}, {"name": "EventDeterminationStage", "description": "Stage that synthesizes detected poses and behaviors into high-level events such as animal observations."}], "methods": [{"name": "None on_open(self, context: PipelineContext)", "description": "Lifecycle method invoked when the stage is opened, used here to initialize video capture and models.", "scope": "VideoToFramesStage", "scopeKind": "class"}, {"name": "StageResult process(self, data: PipelineData, context: PipelineContext)", "description": "Main processing method for each stage, transforming input data into output, detecting frames, objects, poses, behaviors, or events.", "scope": "VideoToFramesStage", "scopeKind": "class"}, {"name": "None on_close(self, context: PipelineContext)", "description": "Lifecycle method invoked during cleanup, releasing resources like video capture handles.", "scope": "VideoToFramesStage", "scopeKind": "class"}, {"name": "__init__(self, config: Optional[VideoConfig] = None)", "scope": "VideoToFramesStage", "scopeKind": "class", "description": "unavailable"}, {"name": "__init__(self, window_size: int = 15)", "scope": "BehaviorAnalysisStage", "scopeKind": "class", "description": "unavailable"}], "calls": ["cv2.VideoCapture", "cv2.CAP_PROP_FPS"], "search-terms": ["VideoToFramesStage", "ObjectDetectionStage", "PoseEstimationStage", "BehaviorAnalysisStage", "EventDeterminationStage", "pipeline", "animal monitoring", "video processing", "pose estimation", "behavior analysis"], "state": 2, "file_id": 17, "knowledge_revision": 53, "git_revision": "", "ctags": [{"_type": "tag", "name": "BehaviorAnalysisStage", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^class BehaviorAnalysisStage(PipelineStage):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "EventDeterminationStage", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^class EventDeterminationStage(PipelineStage):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ObjectDetectionStage", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^class ObjectDetectionStage(PipelineStage):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PoseEstimationStage", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^class PoseEstimationStage(PipelineStage):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "VideoConfig", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^class VideoConfig:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "VideoToFramesStage", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^class VideoToFramesStage(PipelineStage):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def __init__(self, config: Optional[VideoConfig] = None):$/", "language": "Python", "kind": "member", "signature": "(self, config: Optional[VideoConfig] = None)", "scope": "VideoToFramesStage", "scopeKind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def __init__(self, window_size: int = 15):$/", "language": "Python", "kind": "member", "signature": "(self, window_size: int = 15)", "scope": "BehaviorAnalysisStage", "scopeKind": "class"}, {"_type": "tag", "name": "on_close", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def on_close(self, context: PipelineContext) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, context: PipelineContext)", "scope": "VideoToFramesStage", "scopeKind": "class"}, {"_type": "tag", "name": "on_open", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def on_open(self, context: PipelineContext) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, context: PipelineContext)", "scope": "PoseEstimationStage", "scopeKind": "class"}, {"_type": "tag", "name": "on_open", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def on_open(self, context: PipelineContext) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, context: PipelineContext)", "scope": "VideoToFramesStage", "scopeKind": "class"}, {"_type": "tag", "name": "process", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def process(self, data: PipelineData, context: PipelineContext) -> StageResult:$/", "language": "Python", "typeref": "typename:StageResult", "kind": "member", "signature": "(self, data: PipelineData, context: PipelineContext)", "scope": "BehaviorAnalysisStage", "scopeKind": "class"}, {"_type": "tag", "name": "process", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def process(self, data: PipelineData, context: PipelineContext) -> StageResult:$/", "language": "Python", "typeref": "typename:StageResult", "kind": "member", "signature": "(self, data: PipelineData, context: PipelineContext)", "scope": "EventDeterminationStage", "scopeKind": "class"}, {"_type": "tag", "name": "process", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def process(self, data: PipelineData, context: PipelineContext) -> StageResult:$/", "language": "Python", "typeref": "typename:StageResult", "kind": "member", "signature": "(self, data: PipelineData, context: PipelineContext)", "scope": "ObjectDetectionStage", "scopeKind": "class"}, {"_type": "tag", "name": "process", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def process(self, data: PipelineData, context: PipelineContext) -> StageResult:$/", "language": "Python", "typeref": "typename:StageResult", "kind": "member", "signature": "(self, data: PipelineData, context: PipelineContext)", "scope": "PoseEstimationStage", "scopeKind": "class"}, {"_type": "tag", "name": "process", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def process(self, data: PipelineData, context: PipelineContext) -> StageResult:$/", "language": "Python", "typeref": "typename:StageResult", "kind": "member", "signature": "(self, data: PipelineData, context: PipelineContext)", "scope": "VideoToFramesStage", "scopeKind": "class"}, {"_type": "tag", "name": "read_with_opencv", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    read_with_opencv: bool = True$/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "VideoConfig", "scopeKind": "class"}, {"_type": "tag", "name": "source_path", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    source_path: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "VideoConfig", "scopeKind": "class"}], "hash": "b95eaa02b9e316f12efa2d253ed75e47", "format-version": 4, "code-base-name": "backend", "filename": "backend/pipeline/stages.py", "fields": [{"name": "bool read_with_opencv", "scope": "VideoConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] source_path", "scope": "VideoConfig", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"53": ""}]}