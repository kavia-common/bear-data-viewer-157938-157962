{"is_source_file": true, "format": "Python", "description": "This file defines several classes and stages of a video processing pipeline, including video frame extraction, object detection, pose estimation, behavior analysis, and event detection. It contains dataclass configurations, stage classes with processing methods, and placeholder implementations for complex models.", "external_files": ["./base"], "external_methods": ["cv2.VideoCapture", "cv2.CAP_PROP_FPS"], "published": ["VideoConfig", "VideoToFramesStage", "ObjectDetectionStage", "PoseEstimationStage", "BehaviorAnalysisStage", "EventDeterminationStage"], "classes": [{"name": "VideoConfig", "description": "Configuration dataclass for video source options."}, {"name": "VideoToFramesStage", "description": "Stage to extract frames from video source or pass through existing frames."}, {"name": "ObjectDetectionStage", "description": "Dummy stage for object detection in frames, intended for future model integration."}, {"name": "PoseEstimationStage", "description": "Stage to perform pose estimation on detected objects, currently placeholder."}, {"name": "BehaviorAnalysisStage", "description": "Analyzes pose sequences over a sliding window to infer behaviors."}, {"name": "EventDeterminationStage", "description": "Creates high-level event detections from pose and behavior data, e.g., presence of bears."}], "methods": [{"name": "None on_open(self, context: PipelineContext)", "description": "Lifecycle hook to initialize resources, e.g., open video source or load models.", "scope": "VideoToFramesStage", "scopeKind": "class"}, {"name": "StageResult process(self, data: PipelineData, context: PipelineContext)", "description": "Main processing method for each stage, transforming input data into output, or producing detections/events.", "scope": "VideoToFramesStage", "scopeKind": "class"}, {"name": "None on_close(self, context: PipelineContext)", "description": "Lifecycle hook to release resources, e.g., close video capture.", "scope": "VideoToFramesStage", "scopeKind": "class"}, {"name": "__init__(self, config: Optional[VideoConfig] = None)", "scope": "VideoToFramesStage", "scopeKind": "class", "description": "unavailable"}, {"name": "__init__(self, window_size: int = 15)", "scope": "BehaviorAnalysisStage", "scopeKind": "class", "description": "unavailable"}], "calls": ["cv2.VideoCapture", "cv2.CAP_PROP_FPS"], "search-terms": ["VideoToFramesStage", "ObjectDetectionStage", "PoseEstimationStage", "BehaviorAnalysisStage", "EventDeterminationStage", "pipeline stages", "video frame extraction", "pose estimation", "behavior analysis", "event detection"], "state": 2, "file_id": 17, "knowledge_revision": 61, "git_revision": "24c5a2de75bd5e4dd97ceefdeb4c973df0bb1f12", "revision_history": [{"53": ""}, {"61": "24c5a2de75bd5e4dd97ceefdeb4c973df0bb1f12"}], "ctags": [{"_type": "tag", "name": "BehaviorAnalysisStage", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^class BehaviorAnalysisStage(PipelineStage):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "EventDeterminationStage", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^class EventDeterminationStage(PipelineStage):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ObjectDetectionStage", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^class ObjectDetectionStage(PipelineStage):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PoseEstimationStage", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^class PoseEstimationStage(PipelineStage):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "VideoConfig", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^class VideoConfig:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "VideoToFramesStage", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^class VideoToFramesStage(PipelineStage):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def __init__(self, config: Optional[VideoConfig] = None):$/", "language": "Python", "kind": "member", "signature": "(self, config: Optional[VideoConfig] = None)", "scope": "VideoToFramesStage", "scopeKind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def __init__(self, window_size: int = 15):$/", "language": "Python", "kind": "member", "signature": "(self, window_size: int = 15)", "scope": "BehaviorAnalysisStage", "scopeKind": "class"}, {"_type": "tag", "name": "on_close", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def on_close(self, context: PipelineContext) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, context: PipelineContext)", "scope": "VideoToFramesStage", "scopeKind": "class"}, {"_type": "tag", "name": "on_open", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def on_open(self, context: PipelineContext) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, context: PipelineContext)", "scope": "PoseEstimationStage", "scopeKind": "class"}, {"_type": "tag", "name": "on_open", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def on_open(self, context: PipelineContext) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, context: PipelineContext)", "scope": "VideoToFramesStage", "scopeKind": "class"}, {"_type": "tag", "name": "process", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def process(self, data: PipelineData, context: PipelineContext) -> StageResult:$/", "language": "Python", "typeref": "typename:StageResult", "kind": "member", "signature": "(self, data: PipelineData, context: PipelineContext)", "scope": "BehaviorAnalysisStage", "scopeKind": "class"}, {"_type": "tag", "name": "process", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def process(self, data: PipelineData, context: PipelineContext) -> StageResult:$/", "language": "Python", "typeref": "typename:StageResult", "kind": "member", "signature": "(self, data: PipelineData, context: PipelineContext)", "scope": "EventDeterminationStage", "scopeKind": "class"}, {"_type": "tag", "name": "process", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def process(self, data: PipelineData, context: PipelineContext) -> StageResult:$/", "language": "Python", "typeref": "typename:StageResult", "kind": "member", "signature": "(self, data: PipelineData, context: PipelineContext)", "scope": "ObjectDetectionStage", "scopeKind": "class"}, {"_type": "tag", "name": "process", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def process(self, data: PipelineData, context: PipelineContext) -> StageResult:$/", "language": "Python", "typeref": "typename:StageResult", "kind": "member", "signature": "(self, data: PipelineData, context: PipelineContext)", "scope": "PoseEstimationStage", "scopeKind": "class"}, {"_type": "tag", "name": "process", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    def process(self, data: PipelineData, context: PipelineContext) -> StageResult:$/", "language": "Python", "typeref": "typename:StageResult", "kind": "member", "signature": "(self, data: PipelineData, context: PipelineContext)", "scope": "VideoToFramesStage", "scopeKind": "class"}, {"_type": "tag", "name": "read_with_opencv", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    read_with_opencv: bool = True$/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "VideoConfig", "scopeKind": "class"}, {"_type": "tag", "name": "source_path", "path": "/home/kavia/workspace/code-generation/bear-data-viewer-157938-157962/backend/pipeline/stages.py", "pattern": "/^    source_path: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "VideoConfig", "scopeKind": "class"}], "hash": "574aea31b99e105f42cee9b9bf3e59df", "format-version": 4, "code-base-name": "backend", "filename": "backend/pipeline/stages.py", "fields": [{"name": "bool read_with_opencv", "scope": "VideoConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] source_path", "scope": "VideoConfig", "scopeKind": "class", "description": "unavailable"}]}